<html>
  <head>
    <title>Simple Widgets Test</title>
    <script type="text/javascript" charset="utf-8" src="../../assets/jquery-1.3.2.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="../../src/jquery.rebind.js"></script>
    <script type="text/javascript" charset="utf-8" src="../../src/classy.js"></script>
    <script type="text/javascript" charset="utf-8" src="../../src/widgets.js"></script>
    <script type="text/javascript">
    
      Widget.extend('TabPane', {
        methods: {
          setup: function() {
            var self = this, $act = self.$root.find('ul.actuator li');
            $act.click(function() {
              self.$root.find('.panel').hide().eq($act.index(this)).show();
              return false;
            }).eq(self.config.selectedIndex).click();
          },
          defaults: function() {
            return {
              selectedIndex: 0
            };
          },
          dispose: function() {
            alert('tab bar destroyed');
          }
        }
      });
    
    </script>
  </head>
  <body>
    
    <div class='widget widget-TabPane'>
      <script type='text/javascript-widget-config'>
        return { selectedIndex: 1 };
      </script>
      <ul class='actuator'>
        <li><a href='#'>Panel 1</a></li>
        <li><a href='#'>Panel 2</a></li>
        <li><a href='#'>Panel 3</a></li>
      </ul>
      <div class='panel'>
        This is panel 1
      </div>
      <div class='panel'>
        This is panel 2
      </div>
      <div class='panel'>
        This is panel 3
      </div>
    </div>

  </body>
</html>